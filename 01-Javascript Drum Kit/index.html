<!DOCTYPE html>
<html>
  <head>
    <title>Javascript Drum Kit</title>
    <link rel="stylesheet" type="text/css" href="css/style.css" />
  </head>
  <body>
    <div class="container">
      <ul class="control-list">
        <li>
          <div class="key" data-key="65">
            <kbd>A</kbd>
            <span class="notation">CLAP</span>
          </div>
        </li>
        <li>
          <div class="key" data-key="83">
            <kbd>S</kbd>
            <span class="notation">HIHAT</span>
          </div>
        </li>
        <li>
          <div class="key" data-key="68">
            <kbd>D</kbd>
            <span class="notation">KICK</span>
          </div>
        </li>
        <li>
          <div class="key" data-key="70">
            <kbd>F</kbd>
            <span class="notation">OPENHAT</span>
          </div>
        </li>
        <li>
          <div class="key" data-key="71">
            <kbd>G</kbd>
            <span class="notation">BOOM</span>
          </div>
        </li>
        <li>
          <div class="key" data-key="72">
            <kbd>H</kbd>
            <span class="notation">RIDE</span>
          </div>
        </li>
        <li>
          <div class="key" data-key="74">
            <kbd>J</kbd>
            <span class="notation">SNARE</span>
          </div>
        </li>
        <li>
          <div class="key" data-key="75">
            <kbd>K</kbd>
            <span class="notation">TOM</span>
          </div>
        </li>
        <li>
          <div class="key" data-key="76">
            <kbd>K</kbd>
            <span class="notation">TINK</span>
          </div>
        </li>
      </ul>
    </div>
    <audio data-key="65" src="sounds/clap.wav"></audio>
    <audio data-key="83" src="sounds/hihat.wav"></audio>
    <audio data-key="68" src="sounds/kick.wav"></audio>
    <audio data-key="70" src="sounds/openhat.wav"></audio>
    <audio data-key="71" src="sounds/boom.wav"></audio>
    <audio data-key="72" src="sounds/ride.wav"></audio>
    <audio data-key="74" src="sounds/snare.wav"></audio>
    <audio data-key="75" src="sounds/tom.wav"></audio>
    <audio data-key="76" src="sounds/tink.wav"></audio>
  </body>
  <script type="text/javascript">
    window.addEventListener("keydown", function (e) {
      const findAsciiKey = e.which;
      var findAudioNodeToPlay = document.querySelector(
        `audio[data-key="${findAsciiKey}"]`
      );
      var findDisplayBoard = document.querySelector(
        `.key[data-key="${findAsciiKey}"]`
      );
      if (!findAudioNodeToPlay) return;
      findAudioNodeToPlay.currentTime = 0;
      findAudioNodeToPlay.play();
      findDisplayBoard.classList.add("playing");
    });

    var keyNode = document.querySelectorAll(".key");
    keyNode.forEach(function (item) {
      item.addEventListener("transitionend", function (e) {
        if (e.propertyName == "transform") {
          e.target.classList.remove("playing");
        }
      });
    });
  </script>
</html>
